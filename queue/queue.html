<!doctypehtml><html lang=th><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>รับบัตรคิว-สำนักงานขนส่งจังหวัดชลบุรี สาขาอำเภอศรีราชา</title><meta name=description content="Queue for LIFF App"><meta name=author content="สำนักงานขนส่งจังหวัดชลบุรี สาขาอำเภอศรีราชา"><meta property=og:title content="Queue-สำนักงานขนส่งจังหวัดชลบุรี สาขาอำเภอศรีราชา"><meta property=og:description content="Queue for LIFF App"><meta property=og:type content=website><meta property=og:image content=https://lh3.googleusercontent.com/d/1ISNeCGzi9N0Ark6FJl2L6xgbe-qZujHv><script src=https://cdn.tailwindcss.com></script><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><script src=https://cdn.jsdelivr.net/npm/sweetalert2@11></script><link rel=stylesheet href=https://bit.ly/fontiton5 charset=utf-8><style>:root{--primary:#fcaa67;--secondary:#b0413e;--background:#ffffc7;--accent1:#548687;--accent2:#473335}body{font-family:line_seed_sans_th;background-color:var(--background);color:var(--accent2)}.btn-main{background-image:linear-gradient(to right,var(--secondary) 0,var(--primary) 51%,var(--secondary) 100%);transition:.5s;background-size:200% auto;color:#fff;box-shadow:0 0 20px #eee}.btn-main:hover{background-position:right center}@keyframes fadeIn{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.fade-in{animation:fadeIn .8s ease-out forwards}.loader{border:8px solid #f3f3f3;border-radius:50%;border-top:8px solid var(--secondary);width:60px;height:60px;animation:spin 1s linear infinite}@keyframes spin{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes pulse-green{0%,100%{transform:scale(1);box-shadow:0 0 0 0 rgba(34,197,94,.5)}50%{transform:scale(1.03);box-shadow:0 0 25px 20px rgba(34,197,94,0)}}.pulse-green-animation{animation:pulse-green 2s infinite}</style><body class="flex items-center justify-center min-h-screen"><div id=loading-overlay class="fixed inset-0 bg-gray-900 bg-opacity-50 flex items-center justify-center z-50 hidden"><div class=loader></div></div><div class="w-full max-w-md mx-auto p-6 text-center"><div id=initial-view><div class=mb-8><img class="w-24 h-24 mx-auto text-white bg-gradient-to-br from-orange-400 to-teal-600 rounded-full shadow-sm"src=https://lh3.googleusercontent.com/d/1ISNeCGzi9N0Ark6FJl2L6xgbe-qZujHv alt=Logo><h1 id=service-title class="text-4xl font-bold mt-4"style=color:var(--secondary)>สำนักงานขนส่งจังหวัดชลบุรี สาขาอำเภอศรีราชา</h1><p id=user-greeting class=mt-2 style=color:var(--accent1)>กดปุ่มด้านล่างเพื่อรับบัตรคิวของคุณ</div><button id=get-queue-btn class="btn-main w-full py-4 text-2xl font-bold rounded-xl shadow-lg transform hover:scale-105 duration-300">รับบัตรคิว</button></div><div id=result-view class=hidden><div class="bg-white rounded-2xl shadow-2xl p-8 border-4 border-dashed"style=border-color:var(--primary)><p class="text-2xl font-semibold"style=color:var(--accent1)>หมายเลขคิวของคุณคือ<h2 id=queue-number-display class="text-7xl md:text-8xl font-black my-6 leading-none"style=color:var(--secondary)></h2><p id=timestamp-display class="text-base text-gray-500"><div class="mt-6 pt-6 border-t-2 border-dashed border-gray-300"><p class="text-xl font-medium"style=color:var(--accent1)>คิวที่เรียกล่าสุด<p id=latest-called-queue class="text-5xl font-bold mt-2"style=color:var(--accent2)>---</div></div><div class="mt-8 space-y-4"><button id=cancel-queue-btn class="w-full py-3 text-lg font-bold rounded-xl shadow-lg transition-transform duration-300 transform hover:scale-105 bg-red-500 text-white hover:bg-red-600">ยกเลิกคิว</button></div></div><div id=calling-view class=hidden><div class="bg-green-100 rounded-2xl shadow-2xl p-8 border-4 border-dashed border-green-500 text-center pulse-green-animation"><p class="text-3xl font-bold"style=color:var(--accent1)>ถึงคิวของคุณแล้ว!<h2 id=calling-queue-number-display class="text-8xl md:text-9xl font-black my-6 leading-none text-green-700"></h2><div class="mt-6 pt-6 border-t border-green-300"><p class="text-2xl font-bold"style=color:var(--accent2)>กรุณาไปที่ช่องบริการ</div></div><div class=mt-8><button onclick='window.open("https://i.pinimg.com/736x/11/68/06/116806dab1f43742c1d91ee90813fecd.jpg")'class="w-full py-3 px-6 rounded-lg bg-gray-200 text-gray-700 hover:bg-gray-300 transition-colors">เลือกเมนูต่างๆ</button></div></div></div><script src=https://static.line-scdn.net/liff/edge/2/sdk.js></script><script>const _0x432dcb=_0x3125;!function(e,t){const a=_0x3125,n=_0x441a();for(;;)try{if(183912===-parseInt(a(464))/1*(parseInt(a(448))/2)+-parseInt(a(480))/3*(-parseInt(a(449))/4)+-parseInt(a(469))/5+-parseInt(a(465))/6+-parseInt(a(438))/7+-parseInt(a(485))/8*(parseInt(a(459))/9)+-parseInt(a(436))/10*(-parseInt(a(491))/11))break;n.push(n.shift())}catch(e){n.push(n.shift())}}();const apiUrl=_0x432dcb(474),liffId=_0x432dcb(431),loadingOverlay=document[_0x432dcb(503)](_0x432dcb(423)),getQueueBtn=document[_0x432dcb(503)](_0x432dcb(424)),initialView=document[_0x432dcb(503)](_0x432dcb(500)),resultView=document.getElementById(_0x432dcb(460)),callingView=document[_0x432dcb(503)](_0x432dcb(455)),queueNumberDisplay=document[_0x432dcb(503)](_0x432dcb(507)),timestampDisplay=document.getElementById(_0x432dcb(506)),callingQueueNumberDisplay=document.getElementById(_0x432dcb(473)),userGreeting=document[_0x432dcb(503)](_0x432dcb(447)),cancelQueueBtn=document[_0x432dcb(503)]("cancel-queue-btn"),latestCalledQueueEl=document[_0x432dcb(503)]("latest-called-queue"),serviceTitleEl=document[_0x432dcb(503)](_0x432dcb(458));let userProfile=null,queueCheckInterval=null,latestCalledInterval=null,serviceType="A";function getQueryParam(e){const t=_0x432dcb;return new URLSearchParams(window[t(479)].search)[t(494)](e)}function _0x441a(){const e=["error","toggle","isConfirmed","location","607758xrXxNu","userId","Error getting queue:","ไม่สามารถเชื่อมต่อกับเซิร์ฟเวอร์ได้","json","1032uKcmDk","POST","action","กรุณาลองใหม่ภายหลัง","queueNumber","login","55yUGDIb","init","hidden","get","ตกลง","stopTimer","append","Error checking existing queue:","timestamp","initial-view","get_new_queue","success","getElementById","check_my_queue","ยังไม่ได้รับข้อมูลผู้ใช้จาก LINE กรุณาลองใหม่อีกครั้ง","timestamp-display","queue-number-display","เวลาที่รับคิว: ","Status","ยังไม่ได้รับข้อมูลผู้ใช้จาก LINE","textContent","serviceType","data","เกิดข้อผิดพลาด","ไม่, กลับสู่คิว","loading-overlay","get-queue-btn","cors","application/x-www-form-urlencoded","click","remove","คุณต้องการยกเลิกคิวของคุณใช่หรือไม่?","classList","2008184920-eBN0mGpo","getProfile","คิวพิเศษ-ขนส่งศรีราชา","add","CALLING","1559710XICrNP","nowCalling","2371285RiUnBS","เกิดข้อผิดพลาดในการรับคิว: ","WAITING","GET","queue","QueueNumber","ยกเลิกคิวของคุณเรียบร้อยแล้ว","fire","Error cancelling queue:","user-greeting","2BbviOy","4xNkbFs","toLocaleTimeString","existingQueue","displayName","---","ยืนยันการยกเลิกคิว","calling-view","then","message","service-title","15183LAvrJt","result-view","onmouseleave","addEventListener","onload","20407rdUJPn","1068120kOBMOf","คิวทั่วไป-ขนส่งศรีราชา","hasActiveQueue","LIFF initialization failed","218620PtpSVp","warning","resumeTimer","Error fetching latest called queue:","calling-queue-number-display","https://script.google.com/macros/s/AKfycbxlpGzFlrYiIanmD8hosU7R8gosy-DnMgIoxzGCjNXriBs-Eh_qCzEqJ0Arj_vV5qc2xA/exec","Error"];return(_0x441a=function(){return e})()}function stopAllIntervals(){clearInterval(queueCheckInterval),clearInterval(latestCalledInterval),queueCheckInterval=null,latestCalledInterval=null}function _0x3125(e,t){const a=_0x441a();return(_0x3125=function(e,t){return a[e-=420]})(e,t)}async function fetchLatestCalledQueue(){const e=_0x432dcb;try{const t=await fetch(apiUrl,{method:e(441),mode:e(425)}),a=await t[e(484)]();a.success&&a.data&&a[e(420)][e(437)]?latestCalledQueueEl[e(511)]=a.data[e(437)].QueueNumber:latestCalledQueueEl[e(511)]=e(453)}catch(t){console[e(476)](e(472),t),latestCalledQueueEl[e(511)]=e(475)}}function displayQueueState(e){const t=_0x432dcb;stopAllIntervals();const a=e.Status;if(a===t(440)){queueNumberDisplay.textContent=e[t(443)];const a=new Date(e.Timestamp);timestampDisplay[t(511)]=t(508)+a[t(450)]("th-TH")+" น.",initialView.classList[t(434)](t(493)),callingView[t(430)].add("hidden"),resultView[t(430)].remove(t(493)),fetchLatestCalledQueue(),latestCalledInterval=setInterval(fetchLatestCalledQueue,8e3),queueCheckInterval=setInterval((()=>checkUserQueue(userProfile[t(481)])),5e3)}else a===t(435)?(callingQueueNumberDisplay[t(511)]=e[t(443)],initialView[t(430)][t(434)](t(493)),resultView[t(430)][t(434)]("hidden"),callingView[t(430)][t(428)](t(493))):displayInitialState()}function displayInitialState(){const e=_0x432dcb;stopAllIntervals(),initialView[e(430)].remove(e(493)),resultView[e(430)][e(434)]("hidden"),callingView.classList[e(434)](e(493))}async function checkUserQueue(e){const t=_0x432dcb;try{const a=new URLSearchParams;a[t(497)](t(487),t(504)),a[t(497)](t(481),e);const n=await fetch(apiUrl,{method:t(486),body:a,mode:t(425)}),i=await n[t(484)]();i.success&&i[t(467)]?i[t(442)][t(509)]!==t(440)&&displayQueueState(i[t(442)]):displayInitialState()}catch(e){console.error(t(498),e),stopAllIntervals()}}async function initializeLiff(){const e=_0x432dcb;showLoading(!0);try{if(serviceType=getQueryParam(e(512))?.toUpperCase()||"A",serviceTitleEl[e(511)]=e("B"===serviceType?433:466),await liff[e(492)]({liffId:liffId,withLoginOnExternalBrowser:!0}),!liff.isLoggedIn())return void liff[e(490)]({redirectUri:window[e(479)].href});userProfile=await liff[e(432)](),userGreeting[e(511)]="สวัสดีคุณ "+userProfile[e(452)];const t=new URLSearchParams;t[e(497)]("action",e(504)),t[e(497)](e(481),userProfile[e(481)]);const a=await fetch(apiUrl,{method:e(486),body:t,mode:e(425)}),n=await a[e(484)]();n[e(502)]&&n[e(467)]?displayQueueState(n[e(442)]):displayInitialState()}catch(t){console.error(e(468),t),userGreeting[e(511)]="ไม่สามารถเชื่อมต่อกับ LINE ได้"}finally{showLoading(!1)}}function showLoading(e){const t=_0x432dcb;loadingOverlay[t(430)][t(477)](t(493),!e)}window[_0x432dcb(463)]=initializeLiff,getQueueBtn[_0x432dcb(462)](_0x432dcb(427),(async()=>{const e=_0x432dcb;if(userProfile&&userProfile[e(481)]){showLoading(!0);try{const t=new URLSearchParams;t.append("action",e(501)),t[e(497)](e(512),serviceType),t[e(497)](e(481),userProfile.userId);const a=await fetch(apiUrl,{method:e(486),headers:{"Content-Type":e(426)},body:t,mode:e(425)}),n=await a[e(484)]();n[e(502)]?displayQueueState({QueueNumber:n[e(489)],Timestamp:n[e(499)],Status:e(440)}):n[e(451)]?(alert(n[e(457)]),displayQueueState(n[e(451)])):alert(e(439)+n.message)}catch(t){console.error(e(482),t),alert("ไม่สามารถเชื่อมต่อกับเซิร์ฟเวอร์ได้ กรุณาลองใหม่อีกครั้ง")}finally{showLoading(!1)}}else alert(e(505))})),cancelQueueBtn.addEventListener("click",(async()=>{const e=_0x432dcb;userProfile&&userProfile[e(481)]?(stopAllIntervals(),Swal[e(445)]({title:e(454),text:e(429),icon:e(470),showCancelButton:!0,confirmButtonText:"ใช่, ยกเลิกคิว",cancelButtonText:e(422),reverseButtons:!0})[e(456)]((async t=>{const a=e;if(t[a(478)]){showLoading(!0);try{const e=new URLSearchParams;e.append("action","cancel_my_queue"),e[a(497)](a(481),userProfile[a(481)]);const t=await fetch(apiUrl,{method:a(486),body:e,mode:a(425)}),n=await t[a(484)]();if(n[a(502)]){(await Swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:e=>{const t=a;e.onmouseenter=Swal[t(496)],e[t(461)]=Swal[t(471)]}}))[a(445)]({icon:"success",title:a(444)}),displayInitialState()}else await Swal[a(445)]({title:a(421),text:n[a(457)],icon:"error",confirmButtonText:a(495)}),await checkUserQueue(userProfile[a(481)])}catch(e){console[a(476)](a(446),e),await Swal[a(445)]({title:a(483),text:a(488),icon:a(476),confirmButtonText:a(495)})}finally{showLoading(!1)}}else queueCheckInterval=setInterval((()=>checkUserQueue(userProfile[a(481)])),5e3),latestCalledInterval=setInterval(fetchLatestCalledQueue,8e3)}))):alert(e(510))}))</script>